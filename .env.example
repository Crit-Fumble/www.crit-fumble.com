# ==============================================================================
# Crit-Fumble Web Application Environment Variables
# ==============================================================================
# Copy this file to .env.local and fill in the values for local development
# For production deployment on Vercel, set these in the Vercel dashboard

# ==============================================================================
# Application Configuration
# ==============================================================================

# Base URL for the application (used for OAuth redirects and webhooks)
# Development: http://localhost:3000
# Production: https://your-domain.vercel.app
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Node.js environment
NODE_ENV=development

# ==============================================================================
# Database Configuration (Prisma)
# ==============================================================================

# PostgreSQL database connection string
# Format: postgresql://username:password@host:port/database?schema=public
# For local development, use your local PostgreSQL instance
# For production, use your hosted database (e.g., Vercel Postgres, PlanetScale, etc.)
DATABASE_URL=postgresql://username:password@localhost:5432/critfumble?schema=public

# Optional: Direct database URL for connection pooling (recommended for production)
# DIRECT_URL=postgresql://username:password@host:port/database?schema=public

# ==============================================================================
# Discord Application Configuration
# ==============================================================================

# Discord Application ID (from Discord Developer Portal)
DISCORD_WEB_BOT_APP_ID=your_discord_application_id

# Discord Bot Token (from Discord Developer Portal -> Bot section)
DISCORD_WEB_BOT_TOKEN=your_discord_bot_token

# Discord Application Public Key (from Discord Developer Portal -> General Information)
# Used for verifying webhook signatures
AUTH_DISCORD_PUBLIC_KEY=your_discord_public_key

# ==============================================================================
# Discord OAuth2 Configuration (for user authentication)
# ==============================================================================

# Discord OAuth2 Client ID (same as Application ID)
AUTH_DISCORD_ID=your_discord_application_id

# Discord OAuth2 Client Secret (from Discord Developer Portal -> OAuth2)
AUTH_DISCORD_SECRET=your_discord_client_secret

# ==============================================================================
# World Anvil Integration (Optional)
# ==============================================================================

# World Anvil API credentials (if using World Anvil integration)
WORLD_ANVIL_API_URL=https://www.worldanvil.com/api/external/boromir
WORLD_ANVIL_KEY=your_world_anvil_key
WORLD_ANVIL_TOKEN=your_world_anvil_token

# ==============================================================================
# Additional Configuration
# ==============================================================================

# OpenAI API Key (if using AI features)
OPENAI_API_KEY=your_openai_api_key

# Anthropic API Key ( if using AI features)
ANTHROPIC_API_KEY=your_anthropic_api_key
# ==============================================================================
# Vercel-Specific Configuration
# ==============================================================================

# These are automatically set by Vercel, but can be overridden if needed
# VERCEL_URL=your-deployment-url.vercel.app
# VERCEL_ENV=production

# ==============================================================================
# Setup Instructions
# ==============================================================================

# 1. Create a Discord Application at https://discord.com/developers/applications
# 2. Copy the Application ID to DISCORD_WEB_BOT_APP_ID and AUTH_DISCORD_ID
# 3. Go to Bot section, create a bot, and copy the token to DISCORD_WEB_BOT_TOKEN
# 4. Go to General Information and copy Public Key to AUTH_DISCORD_PUBLIC_KEY
# 5. Go to OAuth2 section and copy Client Secret to AUTH_DISCORD_SECRET
# 6. Set up your database and copy the connection string to DATABASE_URL
# 7. Deploy to Vercel and configure these environment variables in the dashboard
# 8. Update Discord Developer Portal with your production URLs:
#    - Interactions Endpoint URL: https://your-domain.vercel.app/api/discord/webhooks
#    - OAuth2 Redirect URLs: https://your-domain.vercel.app/api/discord/oauth/callback
#    - Privacy Policy URL: https://your-domain.vercel.app/privacy-policy
#    - Terms of Service URL: https://your-domain.vercel.app/terms-of-service
